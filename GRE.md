### GRE
1.GRE (Generic Routing Encapsulation) <br>
- 원격 네트워크가 마치 로컬 네트워크인 것처럼 보이게하는 터널링 프로토콜
- 임의 계층 프로토콜의 캡슐화가 가능하게 해서 이를 라우팅할 수 있도록 설계

-----
2.GRE 특징 <br>
- Site to Site IP 터널링 프로토콜 : 원래 시스코에서 개발된 프로토콜
- 데이터 암호화 기능은 제공하지 않음 : 보안성 확보를 위해서는 IPsec 기능을 추가적으로 적용할 수 있음.
- 터널링 내 운반 가능 프로토콜 : IPv4, IPv6, IPX, IPSec 등 다양함.
- GRE 헤더 : 원래 패킷에 GRE헤더를 붙이고 이 패킷을 2 이상의 라우터 간의 미리 설정된 가상의 링크 상에서 전달하며 라우터 간의 단대단 HDLC캡슐화 시
킨 것처럼 취급함
- GRE 터널 : 터널을 만들기 위해서는 미리 2 이상의 종단 라우터 간의 가상의 시리얼 링크 인터페이스를 설정해야함.
![1606_1](https://user-images.githubusercontent.com/63625609/82966938-f93d1800-a006-11ea-959d-fad1a28ee4b8.jpg) 

-----
3.GRE 터널링 <br>
GRE 터널링은 시스코에서 만든 기술이며 IP를 캡슐화 해서 종단간의 통신을 가능하게 해주는 것이다. 유니캐스트는 물론이고 브로드캐스트/멀티캐스트 패킷들을
모두 지원한다. 따라서 좀더 이상적인 VPN(Virtual Private Network) 환경을 만들 수 있다. <br>
GRE 터널 구성도 <br>
![1](https://user-images.githubusercontent.com/63625609/82968281-e70fa980-a007-11ea-8841-1ffdedc758b3.jpg) <br>
가장 최상단에 위치한 라우터에서 각 지점의 PC가 사용하는 네트워크 대역의 라우팅 정책이 없다고 가정하자. A지점과 B지점의 사용자 PC 간의 통신이 불가능한
상황이다. 이러한 경우 GRE 터널링을 이용하면 상단의 라우터에서 별도의 라우팅 정책 없이도 지점간 PC의 통신이 가능하게 된다. GRE 터널은 'IP Encapsulat
ion' 이다. 즉 IP 헤더를 캡슐화 하여 A지점과 B지점 라우터의 IP로 감싼 후 통신을 한다. 당연히 A지점, B지점의 라우터가 GRE터널링을 지원해야 가능하다.
![2](https://user-images.githubusercontent.com/63625609/82968494-67360f00-a008-11ea-96e9-c6cd807ec61b.jpg) <br>
위와 같이 4개의 네트워크 대역이 존재하는 예시를 보자. 상단 라우터에는 별도의 라우팅 테이블이 추가적으로 설정되어 있지 않기 때문에 A지점과 B지점의 
네트워크 대역을 알지 못한다. ( 상단의 라우터는 192.168.100.0/24, 192.168.200.0/24 를 모른다.) 그렇기에 당연히 지점간 PC 통신이 불가능하다.
GRE 터널링 기술을 각 지점 라우터에서 사용하면 지점간 PC들의 통신이 원활하게 이루어 지는데 아래 그림을 통해 패킷의 모양 변화를 보자. <br>
![3](https://user-images.githubusercontent.com/63625609/82968647-c1cf6b00-a008-11ea-9b02-3c31c2d3c4eb.jpg) <br>
A지점의 192.168.100.1 사용자가 B지점의 192.168.200.1로 통신을 시도하게 되면 <br>
*A지점과 A지점 라우터 사이* <br>
- 출발지IP : 192.168.100.1 
- 목적지IP : 192.168.200.1
*A지점 라우터와 상단 라우터 사이 (GRE터널 적용 지점)* <br>
- 원래의 IP정보 (192.168.100.1 -> 192.168.200.1) 를 캡슐화해서 GRE터널로 감싸게 된다.
- GRE터널후 출발지 IP : 172.16.1.254
- GRE터널후 목적지 IP : 172.16.2.254
- 172.16.1.254 와 172.16.2.254의 IP는 상단 라우터가 알고있는 대역이므로 정상적으로 처리 가능하다.
*상단 라우터와 B지점 라우터 사이 (GRE터널 적용 지점)* <br>
- 전 단계와 마찬가지로 IP정보 및 GRE 터널 정보 유지
*B지점 라우터와 B지점 사이* <br>
- GRE터널에 의해 캡슐화해서 감쌌던 실제 IP 정보를 풀어서 B지점으로 전달
- 출발지 IP : 192.168.100.1
- 목적지 IP : 192.168.200.1
위와 같이 Packit Flow가 전달되기 때문에 각 지점간 PC들의 통신이 원활하게 이루어 지게 된다. <br>
GRE는 IP헤더를 GRE 터널 정보로 캡슐화(Encapsulation)하여 전달하는 형태의 터널링이다.

-----
4.GRE 정리 및 요약 <br>
- 시스코에서 개발한 터널링 기술
- 이반 터널링 기술의 목적과 같이 통신이 불가능한 환경을 VPN환경과 같이 구현
- IP캡슐화를 이용하지만 별도의 암호화 기술을 이용하지 않음
- 속도는 빠르지만 보안성에는 취약하다.(데이터가 그대로 노출된다.)
