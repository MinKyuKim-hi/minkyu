### 프로비저닝(Provisioning)
1.의미 : 무언가 여럿 중에 최적인 것을 찾기 위해 필요한 지식을 미리 준비해 놓고 요청에 맞게 공급하는 절차와 행위를 Provisioning 이라고 한다. <br>
즉, 미리 정의된 정책이나 서비스를 사용자에게 지원해주는 것을 말한다. <br>

-----
2.Provisioning 의 종류
- 서버 자원 프로비저닝 : 서버의 CPU, Memory 등의 자원을 할당 또는 적절하게 배치해서 운영할 수 있도록 준비해 놓은 것.
- OS 프로비저닝 : OS를 서버에 설치하고 구성 작업을 해서 OS가 기동되도록 준비해 놓은 것.
- 소프트웨어 프로비저닝 : 소프트웨어(was,dbms,어플리케이션 포함)를 시스템에 설치/배포하고 필요한 구성 세팅 작업을 해서 실행할 수 있도록 준비해 놓은 것.
- 스토리지 프로비저닝 : 낭비되거나 사용되지 않는 스토리지를 식별하고 공통 풀에 가져다 놓을 수 있음. 이후 스토리지에 대한 요구가 접수되면 관리자는 
이 공통 풀에서 스토리지를 꺼내 사용할 수 있어, 스토리지의 효율을 높일 수 있는 인프라 구축 가능.
- 계정 프로비저닝 : 신입사원이 입사하거나 조직 내에 인사이동이나 직무변경이 발생해 사용자가 접근하는 자원의 범주가 변경되었을 때 HR담당자와 IT관리자는
적절한 승인 절차를 밟은 후 e메일, 그룹웨어, ERP 등 다양한 어플리케이션에 필요한 계정을 생성하거나 접근 권한을 변경해 주는데 이러한 일련의 과정을 계정 
프로비저닝 이라고한다. <br>

------
3.계정 프로비저닝의 필요성 <br>
- 기업 IT의 진화 : 계정 관리가 점점 어려워짐.
- 사용자에게 필요한 IT자원들의 신규 계정 생성 또는 접근 권한 변경의 처리시간 단축
- 잦은 인사발령 또는 부서변경에 따른 해당 계정의 접근권한 변경 History 관리 필요
- 저 비용, 고 효율의 상시 계정 변경 감시 및 통보
- 퇴사자의 계정이 모든 시스템에서 확실히 제거
- 한 사용자가 가지고 있는 다양한 IT자원에 대한 계정(ID/PASSWORD)들에 대한 체계적인 추적관리
- 회사는 점점 증가하는 국제적, 국가적, 업종별 규약, 법규, 표준을 준수해야한다. 

-----
4. 계정프로비저닝의 기능 <br>
- 셀프 서비스 Identity Management : 사용자 생산성 향상, IT의 효율성 최적화
- 관리 위임 : 보안 강화, 비용 절감
- 정책과 워크플로우 관리 : IT효율성 향상, 보안 증진
- 감사와 규범준수 관리 : IT리스크 최소화 , 규범 준수 비용 절감
- 암호 관리 : 헬프데스크 비용 절감, 서비스 수준 향상
- 접근 관리 : 인증 & SSO
- 계정 관리 : 위임 관리, Self-Registrtion, 권한 부여 관리
- 디렉토리 서비스 : LDAP 디렉토리, 메타 디렉토리, 가상 디렉토리
- 계정 프로비저닝 : 누가 무엇을 언제 어디서 어떻게, 규칙 및 접근 정책, 통합/연동 프레임 워크


-----
5. 계정 프로비저닝의 기대효과 <br>
- 보안 리스크 감소
- 기업 정책 및 규약 충족
- 중요 기업 자원의 접근성 제공 및 관리 비용 감소
- 생산성 및 운용효율성 향상
- 변화하는 비즈니스 요구사항에 대한 대응력 제고

-----
6. 스토리지 씩 및 씬 프로비저닝 <br>
vsphere은 두가지 모델의 스토리지 프로비저닝, 즉 씩 프로비저닝과 씬 프로비저닝을 지원합니다.
- 씩 프로비저닝 : 기존 스토리지 프로비저닝 모델입니다. 씩 프로비저닝에서는 미래의 스토리지 요구 사항에 대비하여 대량의 스토리지 공간을 미리 제공하
지만 공간이 사용되지 않는 상태로 유지될 수 없기 때문에 스토리지 용량의 활용도가 저하되게 됩니다. <br>
- 씬 프로비저닝 : 이 방법은 씩 프로비저닝과 대비되며 필요시 유연하게 스토리지 공간을 할당함으로써 스토리지 활용도 문제를 해결할 수 있습니다. ESXi
에서는 어레이 수준과 가상 디스크 수준의 두가지 씬 프로비저닝 모델을 사용할 수 있습니다. <br>
- 스토리지 과다 구독 : 씬 프로비저닝을 사용하면 실제 물리적 용량보다 많은 가상 스토리지 공간이 보고될 수 있습니다. 이러한 차이로 인해 과다 프로비
저닝이라고 하는 과다 스토리지 구독이 발생할 수 있습니다. <br>
씬 프로비저닝을 사용할 때는 실제 스토리지 사용량을 모니터링하여 물리적 스토리지 공간이 부족해지는 상황을 방지해야 합니다.

-----
7. 가상 디스크 씬 프로비저닝 <br>
가상 시스템을 생성하면 데이터스토어에서 특정한 양의 스토리지 공간이 가상 디스크 파일에 대해 프로비저닝 됩니다. <br>
기본적으로 ESXi는 가상 시스템에 기존의 스토리지 프로비저닝 방법을 사용합니다. 이 방법을 사용할 경우에는 가상 시스템이 전체 수명 주기 동안 사용하게 
될 스토리지를 먼저 예측해야 합니다. 그런 다음 고정된 양의 스토리지 공간(예: 40GB)을 해당 가상디스크에 미리 프로비저닝 하고 프로비저닝된 전체 공간이
해당 가상 디스크에 대해 커밋되도록 해야 합니다. 프로비저닝된 전체 공간을 즉시 차지하는 가상 디스크는 씩 디스크 입니다.
ESXi는 가상 디스크에 대해 씬 프로비저닝을 지원합니다. 디스크 수준 씬 프로비저닝 기능을 사용하면 씬 형식으로 가상 디스크를 생성할 수 있습니다. 씬 가
상 디스크의 경우 ESXi는 가상 디스크의 현재 및 미래 작업에 필요한 전체 공간을 프로비저닝 한다. 그러나 씬 디스크는 디스크에서 초기 작업에 필요한 스
토리지 공간 만큼만 사용합니다. 이 예에서 씬 프로비저닝된 디스크는 20GB의 스토리지만 차지합니다. 디스크에 공간이 더 필요하면 프로비저닝된 전체 공간
인 40GB로 늘릴 수 있습니다.

-----
8. 가상 디스크 프로비저닝 정책 정보 <br>
가상 디스크 생성, 가상 시스템을 템플릿으로 복제 또는 가상 시스템 마이그레이션 등과 같은 특정한 가상 시스템 관리 작업을 수행할때 가상 디스크 파일에 
대한 프로비저닝 정책을 지정할 수 있습니다. <br>
하드웨어 가속이 적용된 NFS 데이터스토어와 VMFS 데이터스토어는 다음 디스크 프로비저닝 정책을 지원합니다. 하드웨어 가속을 지원하지 않는 NFS데이터스토
어 에서는 씬 형식만 사용할 수 있습니다. <br>
storage vMotion 또는 크로스 호스트 Storage vMotion을 사용하여 가상 디스크를 한 형식에서 다른 형식으로 변환할 수 있습니다. <br>
- 느리게 비워지는 씩 프로비저닝 <br>
기본 씩 형식의 가상 디스크를 생성합니다. 가상 디스크에 필요한 공간은 해당 디스크를 생성할 때 할당됩니다.
물리적 디바이스에 남아 있는 데이터는 생성 동안에 지워지지 않지만, 나중에 가상 시스템에서 처음으로 쓰는 경우 요구에 의해 0으로 설정됩니다. 가상 시스
템은 물리적 디바이스에서 오래된 데이터를 읽지 않습니다. <br>
- 빠르게 비워지는 씩 프로비저닝 <br>
Fault Tolerance와 같은 클러스터 기능을 지원하는 씩 가상 디스크 유형입니다. 가상 디스크에 필요한 공간은 디스크 생성 시에 할당됩니다. <br>
느리게 비워지는 씩 프로비저닝 형식과 다르게 물리적 디바이스에 남아 있는 데이터는 가상 디스크를 생성하는 동안 비워집니다. 다른 유형의 디스크보다 이 
형식의 가상 디스크를 생성하는 것이 더 오래 걸릴 수도 있습니다.
- 씬 프로비저닝 <br>
스토리지 공간을 저장하려면 이 형식을 사용합니다. 씬 디스크의 경우 입력하는 가상 디스크 크기 값에 따라 디스크에 필요한 만큼의 데이터스토어 공간을 프
로비저닝 합니다. 그러나 씬 디스크는 먼저 작은 크기부터 시작합니다. 초기 작업을 위해 이 디스크에 필요한 데이터스토어 공간 만큼의 크기를 사용합니다.
씬 디스크가 나중에 더 많은 공간이 필요하면 최대 용량으로 커질 수 있으며 디스크를 해당 디스크에 프로비저닝된 전체 데이터스토어 공간을 차지할 수 있습
니다. 씬 프로비저닝은 헤더 정보만을 사용하여 디스크를 생성하므로 가상 디스크를 생성하는 가장 빠른 방법입니다. 스토리지 블록을 할당하거나 0으로 설정
하지 않습니다. 처음 액세스할 때 스토리지 블록이 할당되고 0으로 설정됩니다.

-----
9.씬 프로비저닝 된 가상 디스크 생성 <br>
스토리지 공간을 절약 하기 위해 가상 디스크를 씬 프로비저닝된 형식으로 생성할 수 있습니다. 씬 프로비저닝된 가상 디스크는 작게 시작하며 필요한 디스크
공간이 늘어날수록 크기가 증가합니다. 씬 디스크는 디스크 수준 씬 프로비저닝을 지원하는 데이터스토어에만 생성할 수 있습니다. <br>
**프로시저**  <br>
- 데이터 센터, 폴더, 클러스터, 리소스 풀 또는 호스트와 같은 가상 시스템의 유효한 상위 개체인 인벤토리 개체를 마우스 오른쪽 버튼으로 클릭하고 새 가
상 시스템을 선택합니다. <br>
- 새 가상 시스템을 생성하는 데 필요한 단계를 수행합니다.
- 가상 시스템을 생성하는 데 필요한 단계를 수행합니다.
- 하드웨어 사용자 지정페이지에서 가상 하드웨어 탭을 클릭합니다.
- 새 하드 디스크 삼각형을 클릭하여 하드 디스크 옵션을 확장합니다.
- (선택사항) 기본 디스크 크기를 조정합니다.
씬 가상 디스크를 사용하는 경우 디스크 크기 값은 프로비저닝 및 보증되는 공간의 크기를 표시 합니다. 시작부분에서 가상 디스크는 전체 프로비저닝된 공간
을 사용하지 않을 수 있으며 실제 스토리지 사용량 값은 가상 디스크 크기보다 작을 수 있습니다. <br>
- 디스크 프로비저닝으로 씬 프로비저닝을 선택합니다.
- 가상 시스템 생성을 완료합니다. 가상 디스크를 씬 포맷으로 생성한 경우 나중에 최대 크기로 확장할 수 있습니다.

-----
10.가상 시스템 스토리지 리소스 보기 <br>
가상 시스템에 데이터스토어 스토리지 공간이 할당되는 방법을 확인할 수 있습니다. <br>
스토리지 사용량은 구성 및 로그 파일, 스냅샷, 가상 디스크 등을 비롯하여 가상 시스템 파일이 차지하고 있는 데이터스토어 공간을 보여줍니다. 가상 시스템
이 실행중인 경우 사용된 스토리지 공간에 스왑 파일도 포함됩니다. <br>
씬 디스크가 있는 가상 시스템의 경우 실제 스토리지 사용량 값이 가상 디스크 크기보다 작을 수도 있습니다. <br>
**프로시저** <br>
- vSphere Web Client 에서 가상 시스템을 찾습니다.
- 가상 시스템을 두번 클릭하고 요약 탭을 클릭합니다.
- 요약 탭의 오른쪽 위 영역에서 스토리지 사용량 정보를 검토합니다.

-----
11.가상 시스템의 디스크 포맷 결정 <br>
가상 디스크가 씩 포맷 또는 씬 포맷을 할건지 결정할 수 있습니다. <br>
**프로시저** <br>
- vSphere Web Client 에서 가상 시스템을 찾습니다.
- 가상 시스템을 오른쪽 버튼으로 클릭하고 설정 편집을 클릭합니다.
- 가상 하드웨어 탭을 클릭합니다.
- 하드 디스크 삼각형을 클릭하여 하드 디스크 옵션을 확장합니다.
- 유형 텍스트 상자는 가상 디스크의 형식을 표시합니다.

-----
12.씬 가상 디스크 확장 <br>
가상 디스크를 씬 형식으로 만든 경우에는 씬 디스크를 씩 프로비저닝 형식의 가상 디스크로 변환할 수 있습니다. <br>
데이터스토어 브라우저를 이용하여 가상 디스크를 확장합니다. <br>
*사전 요구사항* <br>
- 가상 시스템이 있는 데이터스토어에 공간이 충분한지 확인합니다.
- 가상 디스크가 씬 디스크인지 확인합니다.
- 스냅샷을 제거합니다.
- 가상 시스템 전원을 끕니다. <br>
**프로시저** <br>
(1) 확장하려는 가상 디스크의 폴더로 이동합니다. <br>
- vSphere Web Client에서 가상 시스템을 찾습니다.
- 가상 시스템을 두번 클릭하여 해당 정보를 표시합니다.
- 관련 항목 탭을 클릭하고 데이터스토어를 클릭합니다. 가상 시스템 파일을 저장하는 데이터스토어가 나열됩니다.
- 데이터스토어를 선택하고 데이터스토어 파일 브라우저로 이동합니다. 아이콘을 클릭하면 데이터스토어 브라우저에 데이터스토어의 콘텐츠가 표시됩니다.
(2) 가상 시스템 폴더를 열고 변환할 대상 가상 디스크 파일을 찾습니다. <br>
파일은 확장명이 .vmdk이고 가상 디스크 아이콘으로 표시됩니다. <br>
(3) 가상 디스크 파일을 마우스 오른쪽 버튼으로 클릭하고 확장을 선택합니다. 

-----
13.데이터스토어 과다 구독 처리 <br>
씬 디스크의 프로비저닝 된 공간은 커밋된 공간보다 클 수 있기 때문에 데이터스토어 과다 구독이 발생할 수 있습니다. 이 경우 데이터스토어의 가상 시스템
디스크에 대한 총 프로비저닝된 공간이 실제 용량보다 커집니다. <br>
일반적으로 씬 디스크가 있는 모든 가상 시스템에 프로비저닝된 전체 데이터스토어 공간이 동시에 필요한 것은 아니기 때문에 과다 구독이 가능할 수 있습니
다. 하지만 데이터스토어 과다 구독을 피하려는 경우에는 프로비저닝된 공간이 특정 임계값에 도달할 경우 이를 알리는 경보를 설정할 수 있습니다. <br>
가상 시스템에 더 많은 공간이 필요한 경우 데이터스토어 공간은 선입선출 방식으로 할당됩니다. 데이터스토어에 공간이 부족해지면 물리적 스토리지를 더 추
가하여 데이터스토어를 늘릴 수 있습니다.
